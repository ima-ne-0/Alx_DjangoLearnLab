<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Books</title>
</head>
<body>
    <h1>Search Books Securely</h1>

    <!-- Ã‰tape 2: Utilisation de {% csrf_token %} -->
    <!-- (Pour un formulaire GET, ce n'est pas critique,
         mais c'est vital pour les formulaires POST) -->
    <form method="GET" action="">
        {% csrf_token %}
        
        <!-- Affiche le formulaire Django (notre BookSearchForm) -->
        {{ form.as_p }}
        
        <button type="submit">Search</button>
    </form>

    <hr>

    <h2>Results:</h2>
    <ul>
        {% for book in books %}
            <li>{{ book.title }} by {{ book.author }} ({{ book.publication_year }})</li>
        {% empty %}
            <li>No books found.</li>
        {% endfor %}
    </ul>

</body>
</html>